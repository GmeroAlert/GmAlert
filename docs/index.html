<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TEST</title>
    <link rel="stylesheet" href="" />
  </head>

  <style>
    body.dark {
      background-color: #1e1e1e;
      color: #fff;
    }

    .dark .gmalert-global-vars {
      --gma-bg: #303030;
      --gma-text: #a8a8a8;
      --gma-border: 1px solid #535353;
      --gma-light: #535353;
      --gma-shadow: rgba(255, 255, 255, 0.08);
    }
  </style>

  <body>
    <button type="button" id="changetheme">changetheme</button>

    <button type="button" id="errbtn">err gmsg</button>
    <button type="button" id="infobtn">info gmsg</button>
    <button type="button" id="warningbtn">warn gmsg</button>
    <button type="button" id="successbtn">success gmsg</button>
    <button type="button" id="loadingbtn">loading gmsg</button>

    <button type="button" id="errnotice">err notice</button>
    <button type="button" id="infonotice">info notice</button>
    <button type="button" id="warningnotice">warn notice</button>
    <button type="button" id="successnotice">success notice</button>
    <button type="button" id="loadingnotice">loading notice</button>

    <button type="button" id="successalert">success alert</button>

    <button type="button" id="successinfomation">success infomation</button>

    <script src="./index.js"></script>

    <script>
      'use strict;'
      const { message, notice, alert, information } = GmAlert

      notice.config({ timeout: 5000, maxCount: 8 })
      document.querySelector('#changetheme').addEventListener('click', () => {
        document.body.classList.toggle('dark')
      })
      document.querySelector('#errbtn').addEventListener('click', () => {
        message('错误：你是不是干坏事了？？！！', 'error')
      })
      document.querySelector('#infobtn').addEventListener('click', () => {
        message(
          '信息：我不知道你是谁，你也不知道我是谁，但我们自己都知道自己是谁，真是奇怪。也有可能是我想多了，' +
            '可能你知道我是谁，但是你不会承认同样的我也不会承认，这样以上就合情合理了，你看我说了这么多废话，就是想让你看看该组件在长文本下的效果',
          'info',
        )
      })
      document.querySelector('#successbtn').addEventListener('click', () => {
        message('成功：哈哈哈你太牛了')
      })
      document.querySelector('#loadingbtn').addEventListener('click', () => {
        const tmp = message('加载中：我知道你很急，但你先别急', 'loading')
        setTimeout(() => {
          tmp.close().then(() => {
            message('加载完成：你终于等到我了')
          })
        }, 2500)
      })
      document.querySelector('#warningbtn').addEventListener('click', () => {
        message('警告：你最好真的牛逼', 'warning')
      })

      document.querySelector('#errnotice').addEventListener('click', () => {
        notice('error', 'error')
      })
      document.querySelector('#infonotice').addEventListener('click', () => {
        notice(
          '我觉得这是一条info的notice, 代表着你可以说一些信息类的信息?',
          'info',
        )
      })
      document.querySelector('#successnotice').addEventListener('click', () => {
        notice('success')
      })
      document.querySelector('#loadingnotice').addEventListener('click', () => {
        const tmp = notice('很显然我在加载中', 'loading')
        setTimeout(() => {
          tmp.close().then(() => {
            message('加载完成：你终于等到我了')
          })
        }, 2500)
      })
      document.querySelector('#warningnotice').addEventListener('click', () => {
        notice('warning', 'warning')
      })

      document.querySelector('#successalert').addEventListener('click', () => {
        const inst = alert('success', 'success', {
          showClose: true,
          text: '你成功了',
          showConfirm: true,
          showCancel: true,
          onClosed: (status) => {
            console.log(status)
          },
        })
      })

      document
        .querySelector('#successinfomation')
        .addEventListener('click', () => {
          const inst = information(
            '这是一个用于测试的页面, 这意味着这里的结果并不代表它在您手里表现的效果',
            'success',
            {
              headerLeft: '公告',
              headerRight: '2021-08-01',
              timeout: 10000,
              showClose: true,
              onClosed: (status) => {
                console.log(status)
              },
            },
          )
        })
    </script>
  </body>
</html>
